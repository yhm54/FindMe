<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Event</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
<nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid " style="width: 80%; margin: auto;">
        <a class="navbar-brand h2" href="#">Name</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active h4" aria-current="page" href="#">People: </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active h4" aria-current="page" href="#">Emotions: </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active h4" aria-current="page" href="#">Likes: </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active h4" aria-current="page" href="#">Photos: {{images|length}}</a>
                </li>

            </ul>
            <form class="d-flex" action="{{url_for('search')}}" method="post" enctype="multipart/form-data">
                <input class="form-control mx-2" name="faceImg" type="file" id="formFile" accept="/image/*"
                       placeholder="Upload"
                       onchange="change_sub()">
                <input value="{{passcode}}" name="passcode" hidden>
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
        </div>
    </div>
</nav>

<div class="d-flex align-items-center" style="justify-content: space-between; width: 70%; margin: auto;">
    {% if search_result == False %}
    <div class="d-flex align-items-center m-0">
        <div class="h2 my-5 text-center">Event Images</div>
        <div class=" d-flex mx-3 align-items-end">
            <svg fill="#000000" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink"
                 width="1.54em" height="1.88em" viewBox="0 0 395.71 395.71"
                 xml:space="preserve">
<g>
	<path d="M197.849,0C122.131,0,60.531,61.609,60.531,137.329c0,72.887,124.591,243.177,129.896,250.388l4.951,6.738
		c0.579,0.792,1.501,1.255,2.471,1.255c0.985,0,1.901-0.463,2.486-1.255l4.948-6.738c5.308-7.211,129.896-177.501,129.896-250.388
		C335.179,61.609,273.569,0,197.849,0z M197.849,88.138c27.13,0,49.191,22.062,49.191,49.191c0,27.115-22.062,49.191-49.191,49.191
		c-27.114,0-49.191-22.076-49.191-49.191C148.658,110.2,170.734,88.138,197.849,88.138z"/>
</g>
</svg>
            <h5>{{event_data.location}}</h5>
        </div>
    </div>

    {% else %}
    <div class="h2 my-5 text-center">Event Images With Input Face</div>
    {% endif %}

    <div class="d-flex">
        <svg class="svg-icon"
             style="width: 2.4em; height: 2.6em;vertical-align: middle;fill: currentColor;overflow: hidden;"
             viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
            <path d="M526.464 159.573333C572.586667 113.472 631.893333 85.333333 704 85.333333c155.221333 0 277.333333 126.869333 277.333333 305.408 0 107.093333-52.693333 196.138667-150.016 292.202667-20.949333 20.693333-84.970667 79.317333-87.850666 82.090667-9.066667 8.618667-18.837333 17.557333-29.290667 26.773333a1554.282667 1554.282667 0 0 1-41.301333 35.114667c-29.866667 24.533333-61.76 49.237333-93.632 72.917333a2607.744 2607.744 0 0 1-42.688 31.061333 42.666667 42.666667 0 0 1-49.109334 0 2607.744 2607.744 0 0 1-42.709333-31.04 2444.010667 2444.010667 0 0 1-93.610667-72.938666 1554.282667 1554.282667 0 0 1-41.301333-35.114667c-10.453333-9.216-20.224-18.154667-29.290667-26.773333-2.88-2.773333-66.901333-61.418667-87.850666-82.090667C95.381333 586.88 42.666667 497.856 42.666667 390.741333 42.666667 212.181333 164.778667 85.333333 320 85.333333c72.106667 0 131.413333 28.117333 177.536 74.24 5.184 5.184 10.005333 10.368 14.464 15.488 4.48-5.12 9.28-10.304 14.464-15.466666z m1.898667 671.786667A2360.746667 2360.746667 0 0 0 618.666667 761.002667a1469.802667 1469.802667 0 0 0 39.04-33.173334c9.664-8.533333 18.645333-16.746667 26.88-24.576 3.989333-3.797333 67.2-61.717333 86.784-81.024C853.952 540.672 896 469.674667 896 390.741333 896 258.624 811.349333 170.666667 704 170.666667c-47.765333 0-86.144 18.197333-117.205333 49.258666a202.325333 202.325333 0 0 0-27.946667 35.029334 129.728 129.728 0 0 0-7.872 13.909333c-15.04 33.749333-62.933333 33.749333-77.952 0a129.728 129.728 0 0 0-7.850667-13.909333 202.325333 202.325333 0 0 0-27.968-35.029334C406.144 188.864 367.765333 170.666667 320 170.666667c-107.349333 0-192 87.957333-192 220.074666 0 78.933333 42.026667 149.930667 124.629333 231.466667 19.562667 19.328 82.794667 77.248 86.784 81.045333 8.234667 7.829333 17.216 16.042667 26.88 24.576 12.074667 10.666667 25.130667 21.76 39.04 33.173334a2360.746667 2360.746667 0 0 0 106.666667 82.410666c5.205333-3.818667 10.666667-7.829333 16.362667-12.053333z"
                  fill=""/>
        </svg>

    </div>
</div>

{% if images|length > 0 %}
<div class="container text-center" style="display: grid; grid-template-columns:auto auto auto; grid-gap:22px">
    {% for image in images %}
    <!--    {{ images|length}}-->
    <figure class=" shadow figure border border-5 rounded p-2 border-success d-flex justify-content-center align-items-center">
        <img src="data:image/jpeg;base64,{{ image }}" class="figure-img img-fluid rounded" alt="...">
    </figure>
    <!--    <img  alt="{{ image.filename }}">-->
    {% endfor %}

</div>
{% else %}
<h5 class="text-center">No matches found, <a href="{{url_for('event', passcode = passcode)}}">load all photos</a> again?
</h5>
{% endif %}


<script>
    function change_sub(){
        btn = document.getElementById(" sub");
    btn.disabled = false;
    }
</script>

</body>
</html>